@model LookBackPhotoViewModel
@{
	// // @Model.photo.FirstOrDefault().PhotoPath;
	// List<string> photoPath = new List<string>();
	// var data = ViewBag.LookBackPhotoViewModel;
	// //LookBackPhotoViewModel2? path1 = data.FirstOrDefault(a => a.Yid == 1);
}
<head>
	<title>Year</title>
	<link rel="stylesheet" href="~/PersonalPage/Year">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.css">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
	<script src="~/lib/jquery/dist/jquery.min.js"></script>
	<style>
		.photoSet {
			width: 300px;
			height: 200px;
			display: flex;
		}

		.photoSet:hover {
			cursor: pointer;
		}
	</style>
</head>
<h1>年度回顧</h1>
<hr>
<br>
<div class="container">
	<div class="g-5 row">
		<div class="col-12 col-md-3">
			<div class="item">
				<div class="border-3" style="display:flex;">
					<h5 class="Month" style="margin-right: 75%;">1月</h5>
					<button onclick="apple(1)" type="button" class="btn btn-sm btn btn-outline-light rounded-circle" style="color:cornflowerblue" data-bs-toggle="modal" data-bs-target="#album">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
							<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16" />
							<path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4" />
						</svg>
					</button>
				</div>
				<img src="@ViewBag.pic1.PhotoPath" alt="" class="w-100" id="set1" />

			</div>
		</div>
		<div class="col-12 col-md-3">
			<div class="item">
				<div class="border-3" style="display:flex;">
					<h5 class="Month" style="margin-right: 75%;">2月</h5>
					<button onclick="apple(2)" type="button" class="btn btn-sm btn btn-outline-light rounded-circle" style="color:cornflowerblue" data-bs-toggle="modal" data-bs-target="#album">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
							<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16" />
							<path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4" />
						</svg>
					</button>
				</div>
				<img src="@ViewBag.pic2.PhotoPath" alt="" class="w-100" id="set2" />
			</div>
		</div>
		<div class="col-12 col-md-3">
			<div class="item">
				<div class="border-3" style="display:flex;">
					<h5 class="Month" style="margin-right: 75%;">3月</h5>
					<button onclick="apple(3)" type="button" class="btn btn-sm btn btn-outline-light rounded-circle" style="color:cornflowerblue" data-bs-toggle="modal" data-bs-target="#album">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
							<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16" />
							<path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4" />
						</svg>
					</button>
				</div>
				<img src="@ViewBag.pic3.PhotoPath" alt="" class="w-100" id="set3" />
			</div>
		</div>
		<div class="col-12 col-md-3">
			<div class="item">
				<div class="border-3" style="display:flex;">
					<h5 class="Month" style="margin-right: 75%;">4月</h5>
					<button onclick="apple(4)" type="button" class="btn btn-sm btn btn-outline-light rounded-circle" style="color:cornflowerblue" data-bs-toggle="modal" data-bs-target="#album">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
							<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16" />
							<path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4" />
						</svg>
					</button>
				</div>
				<img src="@ViewBag.pic4.PhotoPath" alt="" class="w-100" id="set4" />
			</div>
		</div><br /><br />
	</div>
	<div class="g-5 row">
		<div class="col-12 col-md-3">
			<div class="item">
				<div class="border-3" style="display:flex;">
					<h5 class="Month" style="margin-right: 75%;">5月</h5>
					<button onclick="apple(5)" type="button" class="btn btn-sm btn btn-outline-light rounded-circle" style="color:cornflowerblue" data-bs-toggle="modal" data-bs-target="#album">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
							<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16" />
							<path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4" />
						</svg>
					</button>
				</div>
				<img src="@ViewBag.pic5.PhotoPath" alt="" class="w-100" id="set5" />
			</div>
		</div>
		<div class="col-12 col-md-3">
			<div class="item">
				<div class="border-3" style="display:flex;">
					<h5 class="Month" style="margin-right: 75%;">6月</h5>
					<button onclick="apple(6)" type="button" class="btn btn-sm btn btn-outline-light rounded-circle" style="color:cornflowerblue" data-bs-toggle="modal" data-bs-target="#album">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
							<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16" />
							<path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4" />
						</svg>
					</button>
				</div>
				<img src="@ViewBag.pic6.PhotoPath" alt="" class="w-100" id="set6" />
			</div>
		</div>
		<div class="col-12 col-md-3">
			<div class="item">
				<div class="border-3" style="display:flex;">
					<h5 class="Month" style="margin-right: 75%;">7月</h5>
					<button onclick="apple(7)" type="button" class="btn btn-sm btn btn-outline-light rounded-circle" style="color:cornflowerblue" data-bs-toggle="modal" data-bs-target="#album">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
							<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16" />
							<path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4" />
						</svg>
					</button>
				</div>
				<img src="@ViewBag.pic7.PhotoPath" alt="" class="w-100" id="set7" />
			</div>
		</div>
		<div class="col-12 col-md-3">
			<div class="item">
				<div class="border-3" style="display:flex;">
					<h5 class="Month" style="margin-right: 75%;">8月</h5>
					<button onclick="apple(8)" type="button" class="btn btn-sm btn btn-outline-light rounded-circle" style="color:cornflowerblue" data-bs-toggle="modal" data-bs-target="#album">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
							<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16" />
							<path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4" />
						</svg>
					</button>
				</div>
				<img src="@ViewBag.pic8.PhotoPath" alt="" class="w-100" id="set8" />
			</div>
		</div>
	</div>
	<div class="g-5 row">
		<div class="col-12 col-md-3">
			<div class="item">
				<div class="border-3" style="display:flex;">
					<h5 class="Month" style="margin-right: 75%;">9月</h5>
					<button onclick="apple(9)" type="button" class="btn btn-sm btn btn-outline-light rounded-circle" style="color:cornflowerblue" data-bs-toggle="modal" data-bs-target="#album">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
							<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16" />
							<path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4" />
						</svg>
					</button>
				</div>
				<img src="@ViewBag.pic9.PhotoPath" alt="" class="w-100" id="set9" />
			</div>
		</div>
		<div class="col-12 col-md-3">
			<div class="item">
				<div class="border-3" style="display:flex;">
					<h5 class="Month" style="margin-right: 72%;">10月</h5>
					<button onclick="apple(10)" type="button" class="btn btn-sm btn btn-outline-light rounded-circle" style="color:cornflowerblue" data-bs-toggle="modal" data-bs-target="#album">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
							<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16" />
							<path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4" />
						</svg>
					</button>
				</div>
				<img src="@ViewBag.pic10.PhotoPath" alt="" class="w-100" id="set10" />
			</div>
		</div>
		<div class="col-12 col-md-3">
			<div class="item">
				<div class="border-3" style="display:flex;">
					<h5 class="Month" style="margin-right: 72%;">11月</h5>
					<button onclick="apple(11)" type="button" class="btn btn-sm btn btn-outline-light rounded-circle" style="color:cornflowerblue" data-bs-toggle="modal" data-bs-target="#album">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
							<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16" />
							<path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4" />
						</svg>
					</button>
				</div>
				<img src="@ViewBag.pic11.PhotoPath" alt="" class="w-100" id="set11" />
			</div>
		</div>
		<div class="col-12 col-md-3">
			<div class="item">
				<div class="border-3" style="display:flex;">
					<h5 class="Month" style="margin-right: 72%;">12月</h5>
					<button onclick="apple(12)" type="button" class="btn btn-sm btn btn-outline-light rounded-circle" style="color:cornflowerblue" data-bs-toggle="modal" data-bs-target="#album">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle" viewBox="0 0 16 16">
							<path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16" />
							<path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4" />
						</svg>
					</button>
				</div>
				<img src="@ViewBag.pic12.PhotoPath" alt="" class="w-100" id="set12" />
			</div>
		</div>
	</div>
</div>
<br />
<br />
<br />
<br />

<!-- Modal -->
<div id="album" class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
	<div class="modal-dialog modal-xl modal-dialog-scrollable">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="staticBackdropLabel">選取當月照片</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<div class="container-fluid d-flex justify-content-center">
					<div class="row">

						@foreach (var item in Model.photo)
						{
							<div class="col-md-4">
								@item.PhotoId
								<img class="photoSet" src="@item.PhotoPath" onclick='setPhoto("@item.PhotoPath","@item.PhotoId")' />
							</div>
						}
					</div>
				</div>
				<br />
				<br />
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
					@* <button type="button" class="btn btn-primary">Save changes</button> *@
				</div>
			</div>
		</div>
	</div>
</div>
<br>
<br>
<br>
<br>
<br>
<br>
<script>
	let settings = []
	for (let i = 1; i < 13; i++) {
		let a = document.getElementById(`set${i}`);
		settings.push(a);
	}

	let targetSetting = settings[0];
	function apple(index) {
		targetSetting = settings[index - 1];
		console.log(targetSetting);
	}

	function setPhoto(src, PhotoId) {
		targetSetting.setAttribute("src", src);
		$.ajax({
			type: "post",
			url: "/PersonalPage/SaveLookBackImage",
			data:
			{
				PhotoId: PhotoId,
				Yid: parseInt(targetSetting.id.substring(3)),

			},
			success: function (data) {
				console.log(data);
			}

		});

	}

</script>

<br>
@* @foreach(var item in Model)
{
	<p>@item.PhotoPath</p>
}
*@
